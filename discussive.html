<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Discussive Essay</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            margin: 0;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 10px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 15px;
        }
        .question-prompts {
            text-align: center;
            color: #e74c3c;
            font-style: italic;
            margin-bottom: 30px;
            font-weight: 500;
        }
        .paragraph {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            position: relative;
        }
        .paragraph-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 18px;
        }
        .input-group {
            display: flex;
            margin-bottom: 15px;
            align-items: flex-start;
        }
        .input-field {
            flex: 1;
            min-height: 40px;
            padding: 10px 40px 10px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            resize: vertical;
            font-size: 15px;
            background: white;
            overflow: hidden;
            transition: border-color 0.3s;
            white-space: pre-wrap;
        }
        .input-field:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 2px rgba(52,152,219,0.2);
        }
        .hint-btn {
            position: relative;
            right: 30px;
            top: 10px;
            background: #3498db;
            color: white;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            text-align: center;
            line-height: 22px;
            font-size: 12px;
            cursor: help;
            margin-left: -25px;
            z-index: 10;
        }
        .add-btn {
            background: #2ecc71;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            font-size: 18px;
            cursor: pointer;
            margin-left: 10px;
            flex-shrink: 0;
            transition: all 0.3s;
        }
        .add-btn:hover {
            background: #27ae60;
            transform: scale(1.05);
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        .modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 25px;
            border-radius: 8px;
            width: 80%;
            max-width: 600px;
            max-height: 70vh;
            overflow-y: auto;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close:hover {
            color: black;
        }
        .hint-title {
            color: #3498db;
            margin-top: 15px;
            margin-bottom: 5px;
        }
        .intro-paragraph .input-group {
            display: inline-flex;
            width: calc(33.333% - 20px);
            margin-right: 20px;
            vertical-align: top;
        }
        .generate-btn {
            display: block;
            width: 200px;
            margin: 30px auto;
            padding: 12px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .generate-btn:hover {
            background: #2980b9;
        }
        .output-container {
            display: none;
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #2ecc71;
        }
        .output-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 18px;
        }
        .essay-output {
            white-space: pre-wrap;
            line-height: 1.8;
        }
        .paragraph-add-btn {
            text-align: center;
            margin-top: 10px;
        }
        @media (max-width: 768px) {
            .intro-paragraph .input-group {
                width: 100%;
                display: flex;
                margin-right: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>IELTS Discussive Essay</h1>
        <div class="question-prompts">
            "Discuss both views and give your opinion"<br>
            "Discuss the advantages and disadvantages"<br>
            "Do the advantages outweigh the disadvantages?"
        </div>
        
        <!-- Introduction Paragraph -->
        <div class="paragraph intro-paragraph">
            <div class="paragraph-title">Introduction Paragraph</div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Background information..."></div>
                <span class="hint-btn" onclick="showHint('hint1')">?</span>
            </div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Topic introduction..."></div>
                <span class="hint-btn" onclick="showHint('hint2')">?</span>
            </div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Thesis statement..."></div>
                <span class="hint-btn" onclick="showHint('hint3')">?</span>
            </div>
            <div class="paragraph-add-btn">
                <button class="add-btn" onclick="addInput(this.parentNode.parentNode)">+</button>
            </div>
        </div>
        
        <!-- Body Paragraph 1 - Advantages -->
        <div class="paragraph">
            <div class="paragraph-title">Body Paragraph 1 (Advantages/Upsides)</div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Topic sentence..."></div>
                <span class="hint-btn" onclick="showHint('hint4')">?</span>
            </div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Advantage 1..."></div>
            </div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Explanation/Example..."></div>
            </div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Advantage 2..."></div>
            </div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Explanation/Example..."></div>
            </div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Advantage 3..."></div>
            </div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Explanation/Example..."></div>
            </div>
            <div class="paragraph-add-btn">
                <button class="add-btn" onclick="addInput(this.parentNode.parentNode)">+</button>
            </div>
        </div>
        
        <!-- Body Paragraph 2 - Disadvantages -->
        <div class="paragraph">
            <div class="paragraph-title">Body Paragraph 2 (Disadvantages/Downsides)</div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Topic sentence..."></div>
                <span class="hint-btn" onclick="showHint('hint5')">?</span>
            </div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Disadvantage 1..."></div>
            </div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Explanation/Example..."></div>
            </div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Disadvantage 2..."></div>
            </div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Explanation/Example..."></div>
            </div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Disadvantage 3..."></div>
            </div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Explanation/Example..."></div>
            </div>
            <div class="paragraph-add-btn">
                <button class="add-btn" onclick="addInput(this.parentNode.parentNode)">+</button>
            </div>
        </div>
        
        <!-- Conclusion Paragraph - 修正了这里的结构 -->
        <div class="paragraph">
            <div class="paragraph-title">Conclusion Paragraph</div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="Summarize main points..."></div>
                <span class="hint-btn" onclick="showHint('hint6')">?</span>
            </div>
            <div class="input-group">
                <div class="input-field" contenteditable="true" placeholder="State your opinion..."></div>
                <span class="hint-btn" onclick="showHint('hint7')">?</span>
            </div>
            <div class="paragraph-add-btn">
                <button class="add-btn" onclick="addInput(this.parentNode.parentNode)">+</button>
            </div>
        </div>
        
        <button class="generate-btn" onclick="generateEssay()">Generate Essay</button>
        
        <div class="output-container" id="outputContainer">
            <div class="output-title">Your Generated Essay</div>
            <div class="essay-output" id="essayOutput"></div>
        </div>
    </div>

    <!-- Hint Modals -->
    <div id="hint1" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('hint1')">&times;</span>
            <p>Paraphrase one-sentence background information from the task requirement, or create new general background information about the topic being discussed.</p>
        </div>
    </div>

    <div id="hint2" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('hint2')">&times;</span>
            <div class="hint-title">Introduction Phrases for Discussive Essays</div>
            <p>There is ongoing debate regarding...<br>
            The issue of whether... has been widely discussed...<br>
            In contemporary society, there is much discussion about...<br>
            The topic of... has generated considerable controversy...<br>
            It is often debated whether...</p>
        </div>
    </div>

    <div id="hint3" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('hint3')">&times;</span>
            <div class="hint-title">1. To State the Essay's Purpose:</div>
            <p>This essay will...<br>
            ...examine both perspectives in detail.<br>
            ...discuss the two opposing views.<br>
            ...analyse the main advantages and disadvantages.<br>
            ...explore this issue from both angles.<br><br>
            The aim of this essay is to...<br>
            ...shed light on both sides of this argument.<br>
            ...present a balanced discussion on this topic.</p>
            
            <div class="hint-title">2. To Outline the Essay's Structure:</div>
            <p>This will be followed by...<br>
            ...an analysis of the potential benefits and drawbacks.<br>
            A reasoned argument will be presented...<br>
            ...by exploring both schools of thought before a conclusion is reached.</p>
            
            <div class="hint-title">3. Neutral Phrases to Avoid "I" or "My Opinion":</div>
            <p>...before arriving at a conclusion. (This is very classic and effective)<br>
            ...in order to present a balanced view.<br>
            ...with a view to evaluating the relative merits of each.</p>
        </div>
    </div>

    <div id="hint4" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('hint4')">&times;</span>
            <p>Write your topic sentence for advantages in the following manner:</p>
            <p>On one hand, there are several significant advantages to...<br>
            The primary benefits of... is...<br>
            Supporters of this view point to several advantages, including...<br>
            The most notable advantages include...<br>
            There are several compelling benefits to consider...</p>
        </div>
    </div>

    <div id="hint5" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('hint5')">&times;</span>
            <p>Write your topic sentence for disadvantages in the following manner:</p>
            <p>On the other hand, there are also several drawbacks to consider...<br>
            Despite these advantages, there are also significant disadvantages...<br>
            Critics of this approach highlight several problems, including...<br>
            However, one must also consider the potential downsides, such as...<br>
            There are, however, several limitations to this approach...</p>
        </div>
    </div>

    <div id="hint6" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('hint6')">&times;</span>
            <p>Conclusion phrases for discussive essays:</p>
            <p>In conclusion, there are both advantages and disadvantages in/associated with...<br>
            To conclude, while there are valid arguments on both sides...<br>
            To sum up, both perspectives have their merits, but...<br>
            Ultimately, after weighing the advantages and disadvantages...<br>
            In summary, it appears that the benefits outweigh the drawbacks...<br>
            All things considered, it seems that...</p>
        </div>
    </div>

    <div id="hint7" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('hint7')">&times;</span>
            <p>Giving your opinion in a discussive essay:</p>
            <p>In my view, the advantages are more significant because...<br>
            From my perspective, the drawbacks outweigh the benefits due to...<br>
            I believe that a balanced approach is necessary because...<br>
            It is my contention that... despite the disadvantages<br>
            Personally, I tend to agree with the former/view because...</p>
        </div>
    </div>

    <script>
        // Function to show hint modals
        function showHint(hintId) {
            document.getElementById(hintId).style.display = 'block';
        }
        
        // Function to close modals
        function closeModal(hintId) {
            document.getElementById(hintId).style.display = 'none';
        }
        
        // Close modal when clicking outside of it
        window.onclick = function(event) {
            let modals = document.getElementsByClassName('modal');
            for (let i = 0; i < modals.length; i++) {
                if (event.target == modals[i]) {
                    modals[i].style.display = 'none';
                }
            }
        }
        
        // Function to add new input field to any paragraph
        function addInput(paragraph) {
            const inputGroup = document.createElement('div');
            inputGroup.className = 'input-group';
            
            const inputField = document.createElement('div');
            inputField.className = 'input-field';
            inputField.contentEditable = true;
            inputField.placeholder = "Additional sentence...";
            
            inputGroup.appendChild(inputField);
            
            // Insert before the add button container
            const addButtonContainer = paragraph.querySelector('.paragraph-add-btn');
            paragraph.insertBefore(inputGroup, addButtonContainer);
        }
        
        // Auto-resize text areas
        document.addEventListener('input', function(e) {
            if (e.target.classList.contains('input-field')) {
                autoResize(e.target);
            }
        }, false);
        
        function autoResize(element) {
            element.style.height = 'auto';
            element.style.height = (element.scrollHeight) + 'px';
        }
        
        // Generate essay from all inputs
        function generateEssay() {
            const outputContainer = document.getElementById('outputContainer');
            const essayOutput = document.getElementById('essayOutput');
            
            let essay = "";
            
            // Get introduction content
            const introInputs = document.querySelectorAll('.intro-paragraph .input-field');
            let introText = "";
            introInputs.forEach(input => {
                if (input.textContent.trim() !== "") {
                    introText += input.textContent.trim() + " ";
                }
            });
            essay += introText + "\n\n";
            
            // Get body paragraphs content
            const bodyParagraphs = document.querySelectorAll('.paragraph:not(.intro-paragraph)');
            bodyParagraphs.forEach((paragraph, index) => {
                if (index < 2) { // Only process the two body paragraphs
                    const inputs = paragraph.querySelectorAll('.input-field');
                    let paraText = "";
                    inputs.forEach(input => {
                        if (input.textContent.trim() !== "") {
                            paraText += input.textContent.trim() + " ";
                        }
                    });
                    essay += paraText + "\n\n";
                }
            });
            
            // Get conclusion content
            const conclusionInputs = document.querySelectorAll('.paragraph:last-child .input-field');
            let conclusionText = "";
            conclusionInputs.forEach(input => {
                if (input.textContent.trim() !== "") {
                    conclusionText += input.textContent.trim() + " ";
                }
            });
            essay += conclusionText;
            
            // Display the generated essay
            essayOutput.textContent = essay;
            outputContainer.style.display = 'block';
            
            // Scroll to the output
            outputContainer.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>